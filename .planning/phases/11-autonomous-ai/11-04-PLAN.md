---
phase: 11-autonomous-ai
plan: 04
type: execute
wave: 4
depends_on: ["11-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Patient in autonomous mode evaluates all available activities and picks based on current needs and personality"
    - "Patient with critical Hunger (below 15%) prioritizes eating over personality-preferred activities"
    - "Patient doesn't always pick the #1 scored activity, shows variety by choosing randomly from top 3-5 options"
    - "Player can toggle patient between autonomous (AI-controlled) and manual (player-controlled) modes at any time"
    - "Player can observe patient's autonomous behavior over 10 minutes and identify emergent patterns based on personality"
  artifacts: []
  key_links: []
---

<objective>
Human verification of all Phase 11 success criteria.

Purpose: Validate that autonomous AI system works correctly - AI picks appropriate activities, respects critical needs, shows variety, and Free Will toggle works.

Output: Verified phase completion or list of issues to fix.
</objective>

<execution_context>
@/Users/godstemning/.claude/get-shit-done/workflows/execute-plan.md
@/Users/godstemning/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/11-autonomous-ai/11-CONTEXT.md
@.planning/phases/11-autonomous-ai/11-01-SUMMARY.md
@.planning/phases/11-autonomous-ai/11-02-SUMMARY.md
@.planning/phases/11-autonomous-ai/11-03-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Phase 11: Autonomous AI system with utility-based activity selection, critical need override, variety via weighted random selection, and Free Will toggle.
  </what-built>
  <how-to-verify>
**Setup:**
1. Run dev server: `npm run dev`
2. Open browser to localhost
3. Create or load a character
4. Ensure simulation is running (play button)

**Test 1: Free Will Toggle (SUCCESS CRITERIA 4)**
1. Locate Free Will toggle near activity queue
2. Verify it shows "Free Will" label with "(AI fills idle time)" when ON
3. Toggle OFF - should show "(Manual only)"
4. Toggle back ON
5. PASS if: Toggle is visible, functional, and updates text

**Test 2: Basic Autonomous Selection (SUCCESS CRITERIA 1)**
1. With Free Will ON, ensure no activities are queued
2. Wait for character to become idle
3. Observe: AI should automatically pick an activity
4. Check Decision Log panel - should show the decision
5. PASS if: AI picks activity when idle, Decision Log shows activity name and reason

**Test 3: Critical Need Override (SUCCESS CRITERIA 2)**
1. Use dev tools or wait for needs to decay
2. Get Hunger below 15% (critical threshold)
3. Observe AI behavior
4. Check Decision Log - should show "Critical" badge
5. PASS if: AI prioritizes eating activity, Decision Log shows critical mode

**Test 4: Variety in Selection (SUCCESS CRITERIA 3)**
1. Reset needs to healthy levels
2. Watch AI make 5+ decisions over time
3. Check Decision Log for different activities
4. Note: AI should NOT always pick the exact same activity
5. PASS if: AI shows variety, sometimes picks #2 or #3 option (visible in alternatives)

**Test 5: Player Override (Free Will OFF)**
1. Toggle Free Will OFF
2. Clear any activity queue
3. Wait - character should remain idle
4. Manually queue an activity
5. Character should do only what you assigned
6. PASS if: With Free Will OFF, AI doesn't pick activities

**Test 6: Player Commands Override AI (Free Will ON)**
1. Toggle Free Will ON
2. While AI has picked an activity (or is idle)
3. Manually queue a different activity
4. PASS if: Player-queued activity takes priority, AI doesn't overwrite

**Test 7: Emergent Personality Patterns (SUCCESS CRITERIA 5)**
1. Create/observe a character with HIGH Extraversion (>70)
2. Watch autonomous behavior for 2-3 minutes
3. Note frequency of social activities chosen
4. Create/observe a character with LOW Extraversion (<30)
5. Watch autonomous behavior for 2-3 minutes
6. Compare: Extrovert should pick more social activities than introvert
7. PASS if: Observable personality-based differences in activity selection

**Test 8: Decision Log Details**
1. Expand a decision in the Decision Log
2. Check breakdown shows three factors: Need Urgency, Personality Fit, Resource Avail
3. Check alternatives are shown with scores
4. PASS if: Full breakdown visible with reasonable values (0-100 range)

**Report any failures with specific details (what happened vs expected).**
  </how-to-verify>
  <resume-signal>
Type "approved" if all tests pass.
If issues found, describe each issue with:
- Which test failed
- Expected behavior
- Actual behavior
- Any error messages
  </resume-signal>
</task>

</tasks>

<verification>
All 8 tests pass, confirming:
- AI autonomously selects activities based on utility scoring
- Critical needs trigger priority override
- Selection shows variety (not always #1)
- Free Will toggle controls AI behavior
- Player commands override AI
- Personality affects activity patterns
</verification>

<success_criteria>
All Phase 11 roadmap success criteria verified:
1. Patient in autonomous mode evaluates all available activities and picks based on current needs and personality
2. Patient with critical Hunger (below 15%) prioritizes eating over personality-preferred activities
3. Patient doesn't always pick the #1 scored activity, shows variety by choosing randomly from top 3-5 options
4. Player can toggle patient between autonomous (AI-controlled) and manual (player-controlled) modes at any time
5. Player can observe patient's autonomous behavior over 10 minutes and identify emergent patterns based on personality
</success_criteria>

<output>
After verification complete, create `.planning/phases/11-autonomous-ai/11-04-SUMMARY.md`
</output>
