---
phase: 10.1-remove-v1-resources
plan: 01
subsystem: ui
tags: [react, mobx, cleanup, refactor]

# Dependency graph
requires:
  - phase: 10-activity-need-integration
    provides: Verified v1.1 needs system working correctly
provides:
  - UI components only reference v1.1 needs system
  - Removed needsSystemEnabled toggle and v1.0 ResourcePanel
  - CharacterPanel and ComparisonView render NeedsPanel unconditionally
affects: [10.1-02-character-model-cleanup, any-future-ui-work]

# Tech tracking
tech-stack:
  added: []
  patterns: [unconditional-needs-rendering]

key-files:
  created: []
  modified:
    - src/components/SimulationControls.tsx
    - src/components/CharacterPanel.tsx
    - src/components/ComparisonView.tsx
  deleted:
    - src/components/ResourcePanel.tsx

key-decisions:
  - "ComparisonView migrated to NeedsPanel (not in original plan)"

patterns-established:
  - "All UI components now render NeedsPanel without conditionals"

# Metrics
duration: 2.2min
completed: 2026-01-25
---

# Phase 10.1 Plan 01: Remove v1 Resources Summary

**Eliminated v1.0 UI toggle and ResourcePanel component, migrated all views to v1.1 NeedsPanel**

## Performance

- **Duration:** 2.2 min
- **Started:** 2026-01-25T14:16:06Z
- **Completed:** 2026-01-25T14:18:17Z
- **Tasks:** 3
- **Files modified:** 4 (3 modified, 1 deleted)

## Accomplishments
- Removed needsSystemEnabled toggle from SimulationControls
- CharacterPanel now unconditionally renders NeedsPanel
- Deleted ResourcePanel.tsx component (dead code)
- Migrated ComparisonView to use NeedsPanel

## Task Commits

Each task was committed atomically:

1. **Task 1: Remove toggle from SimulationControls** - `441f0cc` (refactor)
2. **Task 2: Remove ResourcePanel import and conditional from CharacterPanel** - `f9967fb` (refactor)
3. **Task 3: Delete ResourcePanel component** - `2d186b3` (refactor)

## Files Created/Modified
- `src/components/SimulationControls.tsx` - Removed toggle UI and useRootStore import
- `src/components/CharacterPanel.tsx` - Unconditional NeedsPanel rendering
- `src/components/ComparisonView.tsx` - Migrated from ResourcePanel to NeedsPanel
- `src/components/ResourcePanel.tsx` - DELETED (dead code)

## Decisions Made
- Migrated ComparisonView.tsx to use NeedsPanel (not in original plan, but necessary to delete ResourcePanel)
- Kept TypeScript errors on `character.needs` (optional) as documented - will be fixed in Plan 02

## Deviations from Plan

### Auto-fixed Issues

**1. [Rule 3 - Blocking] ComparisonView still importing ResourcePanel**
- **Found during:** Task 3 (Delete ResourcePanel)
- **Issue:** ComparisonView.tsx still had import and usage of ResourcePanel, blocking file deletion
- **Fix:** Replaced ResourcePanel with NeedsPanel in ComparisonView, added useRootStore for balanceConfig
- **Files modified:** src/components/ComparisonView.tsx
- **Verification:** No ResourcePanel references remain in src/
- **Committed in:** 2d186b3 (Task 3 commit)

---

**Total deviations:** 1 auto-fixed (1 blocking)
**Impact on plan:** Required to complete ResourcePanel deletion. ComparisonView now matches CharacterPanel pattern.

## Issues Encountered

TypeScript errors on `character.needs` (optional) appeared as expected:
- CharacterPanel.tsx line 42: Type 'Needs | undefined' not assignable
- ComparisonView.tsx line 144: Type 'Needs | undefined' not assignable

These are documented in the plan as expected and will be resolved in Plan 02 when `needs` becomes required on Character model.

## User Setup Required

None - no external service configuration required.

## Next Phase Readiness

UI cleanup complete. Ready for Plan 02 to make Character model changes:
- Remove optional `needs?` and make it required
- Remove `resources` field entirely
- Remove `needsSystemEnabled` from RootStore

TypeScript will guide the remaining cleanup in data models and stores.

---
*Phase: 10.1-remove-v1-resources*
*Completed: 2026-01-25*
