---
phase: 07-primary-needs-foundation
plan: 03
type: execute
wave: 3
depends_on: ["07-02"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Player can toggle between v1.0 resources and v1.1 needs via visible UI switch"
    - "When v1.1 enabled, 7 needs are visible with color-coded bars"
    - "Physiological needs (Hunger, Bladder, Energy) decay noticeably faster than Social needs"
    - "Needs below 20% show red bars and visual warning"
    - "Player can observe need trajectory over time"
  artifacts: []
  key_links: []
---

<objective>
Verify the primary needs foundation works correctly through human observation and testing.

Purpose: Confirm that the needs system produces the expected visual feedback, differential decay rates are noticeable, and the toggle works smoothly between v1.0 and v1.1 systems.

Output: Human verification that Phase 7 success criteria are met.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-primary-needs-foundation/07-01-SUMMARY.md
@.planning/phases/07-primary-needs-foundation/07-02-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Primary needs foundation with 7 needs, differential decay, color-coded UI, and v1.0/v1.1 toggle</what-built>
  <how-to-verify>
1. Start the app: `npm run dev`
2. Open http://localhost:5173 (or the port shown)

**Test 1: Toggle exists and switches display**
- Look for "v1.1 Needs" toggle in the simulation controls area
- Toggle OFF: Should show the original ResourcePanel (radial gauges)
- Toggle ON: Should show NeedsPanel with 7 needs in two groups

**Test 2: Needs display correctly**
- With toggle ON, verify you see:
  - Physiological group: Hunger, Energy, Hygiene, Bladder
  - Social group: Social, Fun, Security
- Each need should have a color-coded progress bar
- Starting values should be around: Hunger 80, Energy 100, Hygiene 100, Bladder 100, Social 70, Fun 60, Security 50

**Test 3: Differential decay rates**
- Start the simulation (press Play)
- Set speed to 5x or higher for faster observation
- Watch for 30-60 seconds
- VERIFY: Physiological needs (especially Hunger, Bladder) decay noticeably faster than Social needs
- Social and Fun should decay slowly

**Test 4: Color coding works**
- Watch needs decay over time
- As values drop:
  - Above 70%: Green bar
  - 40-70%: Yellow bar
  - 20-40%: Orange bar
  - Below 20%: Red bar with visual warning indicator
- Speed up simulation to reach critical states faster

**Test 5: Asymptotic decay (no instant death)**
- Let simulation run until some needs approach critical (< 20%)
- VERIFY: Decay slows down as values approach the floor (~5%)
- Needs should never instantly hit 0, they slow asymptotically

**Test 6: v1.0 still works**
- Toggle OFF (disable v1.1 Needs)
- Verify ResourcePanel shows again
- Verify resources still drain/recover as before
- Toggle back ON, verify needs pick up where they left off

**Expected result:** All 6 tests pass. Needs system creates visible urgency hierarchy where physiological needs become critical before social needs.
  </how-to-verify>
  <resume-signal>Type "approved" if all tests pass, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
Human confirms:
- [ ] Toggle switches between ResourcePanel and NeedsPanel
- [ ] 7 needs displayed in two groups (Physiological, Social)
- [ ] Physiological needs decay faster than Social needs (visually noticeable)
- [ ] Color coding works (green -> yellow -> orange -> red)
- [ ] Critical needs (< 20%) have red bars with warning indicator
- [ ] Asymptotic decay prevents instant bottoming-out
- [ ] v1.0 resources still work when toggle is off
</verification>

<success_criteria>
Phase 7 success criteria from roadmap verified:
1. Patient has 7 observable primary needs displayed with color-coded bars
2. Physiological needs decay noticeably faster than social needs
3. Urgent needs (below 20%) display red bars and visual warning indicators
4. Player can observe need trajectory over time and identify which needs become critical first
5. Existing v1.0 resources run in parallel with new needs system via toggle
</success_criteria>

<output>
After completion, create `.planning/phases/07-primary-needs-foundation/07-03-SUMMARY.md`
</output>
